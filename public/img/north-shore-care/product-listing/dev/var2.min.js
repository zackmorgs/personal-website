!function(){vwo_$(document).ready(function(){vwo_$("body.catalog-category-view").addClass("ti-test var-2"),t()});var t=function(){a(),o()},a=function(){var t=20,a=setInterval(function(){try{vwo_$('.bv-rating-label:contains("(0)")').addClass("no-reviews"),20==t&&clearInterval(a)}catch(o){}},400)},o=function(){vwo_$(".category-view .stats").one("mouseover",function(){var t=vwo_$(this).find(".bv-stars-container"),a="   (0)  "!==t.find(".bv-rating-label").html();0!==t.length&&a===!0&&e(t)}),vwo_$(".category-view .stats").on("mouseleave",function(){var t=vwo_$(this).find(".bv-stars-container");s();var a="   (0)  "!==t.find(".bv-rating-label").html();0!==t.length&&a===!0&&vwo_$(t).one("mouseover",function(){var t=this;e(t)})})},e=function(t){if(vwo_$(t).addClass("tooltip-show"),0==vwo_$(".bv-core-container-190 table").length){last_selected=vwo_$(t);var a=vwo_$(t).find("a").attr("href");n(vwo_$(t)),l(a,t)}else s()},s=function(){vwo_$(".tooltip-show .bv-core-container-190").remove(),vwo_$(".tooltip-show").removeClass("tooltip-show"),vwo_$(".var-2 .bv-loading").removeClass("bv-loading"),vwo_$(".var-2 .bv-loaded").removeClass("bv-loaded")},n=function(t){var a=(t.find(".bv-ratio-count"),v.container());vwo_$(".tooltip-show").append(a)},r=function(){vwo_$(".tooltip-show .bv-rating-label").addClass("bv-loading")},i=function(t){vwo_$(".tooltip-show").find(".bv-popup-histogram tbody");var a=vwo_$(t).find(".bv-popup.bv-popup-histogram");vwo_$(a).addClass("bv-loaded");var o=vwo_$(t).find(".bv-rating-label.bv-text-link");vwo_$(o).removeClass("bv-loading"),vwo_$(o).addClass("bv-loaded")},v={start_html:'<div class="bv-core-container-190"><div data-bv-v="histogramPopup:3" class="bv-popup bv-popup-histogram bv-shared bv-popup-container" aria-expanded="true"><strong class="bv-popup-caption">Review Snapshot</strong> <div class="bv-compat"> <div class="bv-popup-histogram-ratings" role="tooltip" aria-expanded="false"> <table role="presentation"> <tbody>',end_html:"</tbody></table></div></div></div></div>",container:function(){return v.start_html+v.end_html},row:function(t,a,o){var e=' <tr class="bv-focusable" tabindex="0" data-stars="{{review-stars}}"> <td class="bv-popup-histogram-ratings-star" data-bv-histogram-rating-value="{{review-stars}}" role="presentation">{{review-stars}}<span class="bv-glyph">â˜…</span> <span class="bv-off-screen">stars</span> </td><td class="bv-popup-histogram-ratings-bar" data-bv-histogram-rating-value="{{review-stars}}" role="presentation"> <span class="bv-content-secondary-ratings-container"> <span class="bv-content-secondary-ratings-value" style="width:{{review-bar-width}}% !important;"></span> </span> </td><td class="bv-popup-histogram-ratings-score" role="presentation">{{review-count}}<span class="bv-off-screen">reviews</span> </td></tr>';return e=e.replaceAll("{{review-stars}}",t),e=e.replaceAll("{{review-count}}",o),e=e.replaceAll("{{review-bar-width}}",a)},action_bar:function(t){var a=' <div class="bv-action-bar"> <ul class="bv-toplevel-actions" role="presentation"> <li class="bv-histogram-action"> <button type="button" class="bv-read-review bv-focusable" onclick="return false;">Read{{total_review-count}}Reviews</button> </li></ul> </div>';return a=a.replaceAll("{{total_review-count}}"," "+t+" ")}},l=function(t,a){r();var a=a,o="";try{vwo_$.ajax({url:t,success:function(t){o=vwo_$(t).find(".sku-container input").attr("value"),o=o.replace(" ",""),c(o,a)},failure:function(t){s()}})}catch(e){}},c=function(t,a){if(0==vwo_$(".tooltip-show tr").length){var o="https://api.bazaarvoice.com/data/reviews.json?apiversion=5.4&passkey="+BV.options.apiconfig.passkey+"&Filter=ProductId:"+t+"&Include=Products&Stats=Reviews";Object.JSON;vwo_$.ajax({dataType:"json",url:o,success:function(o){var e=Object.JSON;try{e=o.Includes.Products.Includes[t]}catch(s){e=o.Includes.Products[o.Includes.ProductsOrder[0]]}for(var n="",r=[],l=[!1,!1,!1,!1,!1],c=0;c<e.ReviewStatistics.OverallRatingRange;c++){var p,d=e.ReviewStatistics.RatingDistribution[c],u=e.TotalReviewCount,w=0,b=0;void 0!==d&&(p=d.RatingValue,u=e.TotalReviewCount,w=d.Count,b=d.Count/u*100,r.push(v.row(p,b,w)),l[p-1]=!0)}var f=vwo_$(".tooltip-show tbody");if(0==vwo_$(".tooltip-show tr").length){for(var c=0;c<e.ReviewStatistics.OverallRatingRange;c++)0==l[c]&&r.push(v.row(c+1,0,0));r.sort().reverse(),r.forEach(function(t){n+=t}),vwo_$(f).append(n)}i(a)},failure:function(){s()}})}else console.log("already rows error",vwo_$(".tooltip-show tr"))};String.prototype.replaceAll=function(t,a){var o=this;return o.replace(new RegExp(t,"g"),a)}}();